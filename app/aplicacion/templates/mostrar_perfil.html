{% extends "base.html" %}

{% block content %}
<div class="card card-info">
  <div class="card-header">
    <h2>Perfil</h2>
  </div>

    <div class="card-body">
        <div class="col-md-12">
            <form action="" method="POST">
              <div class="form-group row">
                <label for="usuario" class="text-center col-sm-2 col-form-label">Usuario</label> 
                <div class="col-2">
                  <input id="usuario" name="usuario" placeholder="Usuario" class="form-control here" required="required" type="text" value="{{ user.usuario }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="nombre" class="text-center col-sm-2 col-form-label">Nombre</label> 
                <div class="col-2">
                  <input id="nombre" name="nombre" placeholder="Nombre" class="form-control here" type="text" value="{{ user.nombre }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="apellidos" class="text-center col-sm-2 col-form-label">Apellidos</label> 
                <div class="col-2">
                  <input id="apellidos" name="apellidos" placeholder="Apellidos" class="form-control here" type="text" value="{{ user.apellidos }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="email" class="text-center col-sm-2 col-form-label">Email</label> 
                <div class="col-2">
                  <input id="email" name="email" placeholder="Email" class="form-control here" required="required" type="text" value="{{ user.email }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="fecha_nacimiento" class="text-center col-sm-2 col-form-label">Fecha de nacimiento</label> 
                <div class="col-2">
                  <input id="fecha_nacimiento" name="fecha_nacimiento" placeholder="Fecha de nacimiento" class="form-control here" required="required" type="date" value="{{ user.fecha_nacimiento|date:'Y-m-d' }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="genero" class="text-center col-sm-2 col-form-label">Género</label> 
                <div class="col-2">
                  <input id="genero" name="genero" class="form-control here" required="required" type="text" value="{{ user.genero }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="altura" class="text-center col-sm-2 col-form-label">Altura</label> 
                <div class="col-2">
                  <input id="altura" name="altura" placeholder="Altura" class="form-control here" required="required" type="number" value="{{ user.altura }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="peso" class="text-center col-sm-2 col-form-label">Peso</label> 
                <div class="col-2">
                  <input id="peso" name="peso" placeholder="Peso" class="form-control here" required="required" type="number" value="{{ user.peso }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="rol" class="text-center col-sm-2 col-form-label">Administrador</label> 
                <div class="col-2">
                  <input id="rol" name="rol" placeholder="Rol" class="form-control here" required="required" type="text" value="{{ user.administrador }}" readonly>
                </div>
              </div>
              <div class="form-group row">
                <label for="activo" class="text-center col-sm-2 col-form-label">Activo</label> 
                <div class="col-2">
                  <input id="activo" name="activo" placeholder="Activo" class="form-control here" required="required" type="text" value="{{ user.activo }}" readonly>
                </div>
              </div>
            </form>
        </div>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-1">
          <form action="{% url 'modificar_perfil' user.id %}" method="POST">
            {% csrf_token %}
            <input type="submit" class="btn btn-danger" value="Modificar">
          </form>
        </div>
    {% if user.is_staff %}
      <button class="btn btn-danger" data-toggle="modal" data-target="#fm-modal-grid">Eliminar</button>
      <div class="modal fade" id="fm-modal-grid" tabindex="-1"
          role="dialog" aria-labelledBy="fm-modal-grid"
          aria-hidden="true">
          <div class="modal-dialog modal-lg">
              <div class="modal-content">
                  <div class="modal-header">
                      <button class="close" data-dismiss="modal" aria-label="Cerrar">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>  
                  <div class="modal-body">
                      <div class="container-fluid">
                          <div class="row">
                              <div class="col-12 col-sm-6">
                                  <p>¿Estas seguro que deseas eliminar tu usuario {{user.nombre}}?</p>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="modal-footer">
                      <a href="{% url 'borrar_perfil' %}" class="btn btn-danger">Sí, estoy seguro.</a>
                      <button class="btn btn-primary" data-dismiss="modal">Cancelar</button>

                  </div>
              </div>
          </div>
      </div>
    {% endif %}
    </div>
    </div>
    <div class="card-footer">
      <div class="col-2">
        <a class="btn btn-default" href=" {% url 'index' %} ">Cancelar</a>
      </div>
    </div>
</div>
{% endblock %}